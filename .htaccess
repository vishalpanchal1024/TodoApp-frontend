# Enable Rewrite Engine
RewriteEngine On

# Handle 404s correctly for Single Page Applications (SPA)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.html [QSA,L]

# Redirect HTTP to HTTPS (if needed)
RewriteCond %{HTTPS} off
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Set Cache-Control headers for static files (images, CSS, JS, fonts)
<FilesMatch "\.(jpg|jpeg|png|gif|css|js|woff|woff2|eot|svg|ttf|otf)$">
    Header set Cache-Control "max-age=31536000, public"
</FilesMatch>

# Prevent Directory Listing
Options -Indexes

# Block access to sensitive files (e.g., .htaccess, .env)
<FilesMatch "^(\.htaccess|\.env)">
    Order Allow,Deny
    Deny from all
</FilesMatch>

# Custom Error Pages (Optional, if you want to customize your error pages)
ErrorDocument 404 /404.html
ErrorDocument 500 /500.html
